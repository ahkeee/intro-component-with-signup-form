<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intro component with sign up form</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="learn-container">
        <h1 class="heading1 lHeight">Learn to code by <br> watching others</h1>
        <p>See how experienced developers solve problems in real-time. Watching scripted tutorials is great, but understanding how developers think is invaluable.</p>
    </div>
    <div id="form">
        <p class="trial"><span>Try it free</span> 7 days then $20/mo. thereafter</p>
        <div class="container">
            <input type="text" placeholder="First Name" name="firstname" id="fName">
                <span role="alert" id="firstNameError" aria-hidden="true">
                    First name cannot be empty
                </span>
            <input type="text" placeholder="Last Name" name="lastname" id="lName">
                <span role="alert" id="lastNameError" aria-hidden="true">
                    Last name cannot be empty
                </span>
            <input type="email" placeholder="Email Address" name="email-address" id="emailAd">
                <span role="alert" id="emailError" aria-hidden="true">
                    Looks like this is not an email
                </span>

                <span role="alert" id="emailEmpty" aria-hidden="true">
                    Email cannot be empty
                </span>

                <input type="password" placeholder="Password" name="password" id="password">
                <span role="alert" id="passwordError" aria-hidden="true">
                    Password cannot be empty
                </span>


                <button id="submit">Claim your free trial</button>
                <p class="terms">By clicking the button you are agreeing to our <a href="#">Terms and Services</a></p>
            </div>   
        </div>
        
    
    <script>
        const submit = document.querySelector('#submit');

        submit.addEventListener('click', validate);

        function validate(e) {
            e.preventDefault();

            const firstNameField = document.querySelector('#fName');
            const lastNameField = document.querySelector('#lName');
            const emailField = document.querySelector('#emailAd');
            const passwordField = document.querySelector('#password');
            const validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
            let valid = true;

            if(!firstNameField.value) {
                const fNameError = document.querySelector('#firstNameError');
                fNameError.classList.add('visible');
                firstNameField.classList.add("invalid");
                fNameError.setAttribute("aria-hidden", false);
                fNameError.setAttribute("aria-invalid", true);
                firstNameField.placeholder = '';
            } 

            if(!lastNameField.value){
                const lNameError = document.querySelector('#lastNameError');
                lNameError.classList.add('visible');
                lastNameField.classList.add('invalid');
                lNameError.setAttribute('aria-hidden', false);
                lNameError.setAttribute('aria-invalid', true);
                lastNameField.placeholder = '';
            }

            if(!emailField.value.match(validRegex)) {
                const emailError = document.querySelector('#emailError');
                emailError.classList.add('visible');
                emailField.classList.add('invalid');
                emailError.setAttribute('aria-hidden', false);
                emailError.setAttribute('aria-invalid', true);
                emailField.placeholder = '';
            } 
            
            if(!emailField.value) {
                const emailEmpty = document.querySelector('#emailEmpty');
                emailEmpty.classList.add('visible');
                emailField.classList.add('invalid');
                emailEmpty.setAttribute('aria-hidden', false);
                emailEmpty.setAttribute('aria-invalid', true);
            }

            if(!passwordField.value) {
                const passwordError = document.querySelector('#passwordError');
                passwordError.classList.add('visible');
                password.classList.add('invalid');
                passwordError.setAttribute('aria-hidden', false);
                passwordError.setAttribute('aria.invalid', true);
                password.placeholder = '';
            }

            const inputs = document.querySelectorAll('#fName, #lName, #emailAd, #password');

            inputs.forEach(input => {
                input.value = '';
            });
            
            return valid;
        }
    </script>
</body>
</html>

<!--
    Use this reference tommorow(Dec 29, 2023)
    HTML >
     <form onsubmit="return validate();">
    <label for="">Password</label>
            <p id="error2"></p>
               <input type="text"name="input2" id="demo2" oninput="return validate();">
            <input type="submit" name="input3"  id="demo3">
</form> 

    JS > 
    function validate(){
        const password = document.getElementById('demo2');
        const error2= document.getElementById('error2');
        const flag =true;
            if(password.value.trim()==""){
                // alert('blank password')
                password.style.border="dotted red"
                password.style.outline="none"
                error2.innerHTML ='***Enter Password'
                flag=false
            }else if(password.value.trim()!=""){
                password.style.border=""
            }
            if( password.value.length <= 0){
                error2.innerHTML ='***Password too short'
                flag = false;
            }
            else if(password.value.length >= 1){
                error2.innerHTML = ''
                flag = true;
            } 
        // alert(flag);
        return flag // to maintain state of flag
    }
-->